#!/usr/bin/env python3

import os
import sys
import pyperclip

def copy_python_files_to_clipboard(directory):
    buffer = ""
    for file in os.listdir(directory):
        if file.endswith(".py"):
            buffer += f"==== {file} ====\n"
            with open(os.path.join(directory, file), "r") as f:
                buffer += f.read() + "\n\n"
    pyperclip.copy(buffer)

def main():
    if len(sys.argv) != 2:
        print("Usage: python script.py <path-to-directory>")
        sys.exit(1)

    directory = sys.argv[1]
    copy_python_files_to_clipboard(directory)

if __name__ == "__main__":
    main()

